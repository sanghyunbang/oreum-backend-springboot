<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC 
"-//mybatis.org//DTD Mapper 3.0//EN"
"file:///C:/Users/805-01/eclipse-workspace/padd/src/main/resources/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.oreum.goods.dao.GoodsOrderDAO">
	<insert id="addOrder" parameterType="com.oreum.goods.dto.GoodsOrderDTO" useGeneratedKeys="true" keyProperty="order_id">
		insert into orders (user_id, receiver_name, receiver_phone, zipcode, address_basic, address_detail, request, used_point, total_price)
		values (#{userId}, #{addressname}, #{addressnumber}, #{zipcode}, #{addressbasic}, #{addressdetail}, #{request}, #{point}, #{total})
	</insert>
	<insert id="addItemOrder" parameterType="java.util.List">
	  	insert into order_items (order_id, goods_options_id, qty, item_price)
	  	values
	  <foreach collection="items" item="item" separator=",">
	    (#{item.order_id}, #{item.goods_options_id}, #{item.qty}, #{item.item_price})
	  </foreach>
	</insert>
</mapper>